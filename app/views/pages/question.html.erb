<div class='pusher' ng-controller='QuestionController'>
  <div class='ui container grid'>
    <div class='one column row'>
    </div>
    <div class='one column row'>
      <div class='column'>
        <h1 class='ui header'>Add Questions to Test Bank</h1>
      </div>
    </div>
    <div class='ui divider'></div>
    <div class='one column row'>
      <div class="ui page disabled dimmer">
        <div class="content">
          <div class="center">Your questions have been successfully submitted!</div>
        </div>
      </div>
      <div class="ui positive floating hidden message">
        <i class="close icon"></i>
        <div class="header">
          Your questions have been successfully submitted!
        </div>
      </div>
    </div>
    <div class='one column row'>
      <form class='ui form' style='width: 100%;' ng-repeat="question in questions">
        <div class='fluid field'>
          <div class='eight wide field'>
            <label>Topic</label>
            <div class='ui selection dropdown'>
              <i class='dropdown icon'></i>
              <div class='default text'>{{question.topic.name}}</div>
              <div class='menu'>
                  <div ng-repeat="topic in topics" class='item' data-value='{{topic.value}}' ng-click='topicChange(topic, $parent.$index)'>
                    {{topic.name}}
                  </div>
              </div>
            </div>
          </div>
          <div class='eight wide field'>
            <label>Question Type</label>
            <div class='ui selection dropdown'>
              <i class='dropdown icon'></i>
              <div class='default text'>{{question.type.name}}</div>
              <div class='menu'>
                  <div ng-repeat="type in types" class='item' ng-click='typeChange(type, $parent.$index)' value='{{type.value}}'>
                    {{type.name}}
                  </div>
              </div>
            </div>
          </div>
          <div class='eight wide field'>
            <label>Difficulty Level</label>
            <div class='ui selection dropdown'>
              <i class='dropdown icon'></i>
              <div class='default text'>{{question.difficulty.name}}</div>
              <div class='menu'>
                  <div ng-repeat="diff in difficulties" class='item' ng-click='difficultyChange(diff, $parent.$index)' value='{{diff.value}}'>
                    {{diff.name}}
                  </div>
              </div>
            </div>
          </div>
          <label>Question</label>
          <button class='ui basic button richtext' ng-click='useRichText($index)'>
            Rich Text
          </button>
          <br>
          <div class='fields'>
            <div class='twelve wide field'>
              <textarea id='editor{{$index}}' ng-model='question.questionText' >
              </textarea>
              <script>
                // window.onload = function() {
                  // CKEDITOR.replaceAll('ckeditors');
                // }

              </script>
            </div>
          </div>
          <div class='answers'ng-switch on='question.type.value'>
            <div ng-switch-when='1'>
              <multiple-choice data='question.answer'
              ng-init="question.answer = [{value: '', isCorrect: false}, {value: '', isCorrect: false}, {value: '', isCorrect: false},
              {value: '', isCorrect: false}]"></multiple-choice>
            </div>
            <div ng-switch-when='2'>
              <multiple-answer data='question.answer' ng-init="question.answer = [{value: '', isCorrect: false}, {value: '', isCorrect: false},
              {value: '', isCorrect: false}, {value: '', isCorrect: false}]" display='display'></multiple-answer>
            </div>
            <div ng-switch-when='3'>
              <subjective-text data='question.answer' ng-init="question.answer = {value: ''}"></subjective-text>
            </div>
            <div ng-switch-when='4'>
              <subjective-code data='question.answer' ng-init="question.answer = {value: ''}"></subjective-code>
            </div>
          </div>
        </div>
        <div class='one column row'>
          <br>
        </div>
        <button class='ui red button' ng-click='remove($index)'>
          Remove Question
        </button>
        <script type='text/javascript'>
          $('.ui.dropdown')
            .dropdown()
          ;
        </script>
        <div class='ui divider'></div>
      </form>
      <button type='button' class='ui icon button' ng-click="addQuestion()">
        <i class='plus icon'></i>
      </button>

      <button class='ui primary button' ng-click='submit()'>
        Submit
      </button>
    </div>
  </div>
</div>

<script type='text/javascript'>

$('.ui.dropdown')
  .dropdown()
;
$('.message .close')
  .on('click', function() {
    $(this)
      .closest('.message')
      .transition('fade')
    ;
  })
;

//
// $('.ui.icon.button').on('click', function(){
//   var str = "<div class='ui divider'></div>" +
//   "<div class='fluid field'>" +
//     "<div class='eight wide field'>" +
//       "<label>Topic</label>" +
//       "<div class='ui selection dropdown'>" +
//         "<i class='dropdown icon'></i>" +
//         "<div class='default text'>Select Topic</div>" +
//         "<div class='menu'>" +
//           "<div class='item' data-value='ADS'>Algorithm and Data Structures</div>" +
//           "<div class='item' data-value='AND'>Android</div>" +
//           "<div class='item' data-value='IOS'>iOS</div>" +
//           "<div class='item' data-value='NET'>Networks</div>" +
//           "<div class='item' data-value='OPS'>Operating Systems</div>" +
//           "<div class='item' data-value='SEC'>Security</div>" +
//           "<div class='item' data-value='WEB'>Web Development</div>" +
//         "</div>" +
//       "</div>" +
//     "</div>" +
//     "<label>Question</label>" +
//     "<div class='fields'>" +
//       "<div class='twelve wide field'>" +
//         "<textarea rows='2'></textarea>" +
//       "</div>" +
//     "</div>" +
//     "<div class='inline one fields'>" +
//       "<label>Option A</label>" +
//       "<div class='six wide field'>" +
//         "<input type='text' name='option-a' placeholder=''>" +
//         "<div class='ui slider checkbox'>" +
//           "<input type='radio' name='answer' checked='checked'>" +
//         "</div>" +
//       "</div>" +
//     "</div>" +
//     "<div class='inline one fields'>" +
//       "<label>Option B</label>" +
//       "<div class='six wide field'>" +
//         "<input type='text' name='option-b' placeholder=''>" +
//         "<div class='ui slider checkbox'>" +
//           "<input type='radio' name='answer'>" +
//         "</div>" +
//       "</div>" +
//     "</div>" +
//     "<div class='inline one fields'>" +
//       "<label>Option C</label>" +
//       "<div class='six wide field'>" +
//         "<input type='text' name='option-c' placeholder=''>" +
//         "<div class='ui slider checkbox'>" +
//           "<input type='radio' name='answer'>" +
//         "</div>" +
//       "</div>" +
//     "</div>" +
//     "<div class='inline one fields'>" +
//       "<label>Option D</label>" +
//       "<div class='six wide field'>" +
//         "<input type='text' name='option-d' placeholder=''>" +
//         "<div class='ui slider checkbox'>" +
//           "<input type='radio' name='answer'>" +
//         "</div>" +
//       "</div>" +
//     "</div>" +
//   "</div>" +
//   "<div class='one column row'>" +
//     "<br>" +
//   "</div>";
  // $('.ui.form').append(str);
//   $('.ui.dropdown')
//     .dropdown()
//   ;
//   $('.ui.slider.checkbox')
//     .checkbox()
//   ;
// });

</script>
